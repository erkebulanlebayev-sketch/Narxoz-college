# Настройка Supabase для регистрации

## Проблема: Пользователи не могут регистрироваться

Если пользователи не могут зарегистрироваться, нужно настроить Supabase:

### Шаг 1: Отключите подтверждение email (для тестирования)

1. Перейдите в Supabase Dashboard: https://supabase.com/dashboard
2. Выберите ваш проект
3. Перейдите в **Authentication** → **Providers** → **Email**
4. Найдите **"Confirm email"**
5. **ОТКЛЮЧИТЕ** эту опцию (снимите галочку)
6. Нажмите **Save**

Теперь пользователи смогут регистрироваться без подтверждения email!

### Шаг 2: Настройте Redirect URLs (для продакшена)

1. В Supabase Dashboard перейдите в **Authentication** → **URL Configuration**
2. В поле **Site URL** добавьте:
   - Для локальной разработки: `http://localhost:4000`
   - Для продакшена: `https://ваш-сайт.vercel.app`

3. В поле **Redirect URLs** добавьте:
   ```
   http://localhost:4000/**
   https://ваш-сайт.vercel.app/**
   ```

4. Нажмите **Save**

### Шаг 3: Проверьте Email Templates (опционально)

Если хотите включить подтверждение email:

1. Перейдите в **Authentication** → **Email Templates**
2. Настройте шаблон **Confirm signup**
3. Убедитесь, что ссылка ведет на ваш домен

### Шаг 4: Настройте Rate Limiting (опционально)

Для защиты от спама:

1. Перейдите в **Authentication** → **Rate Limits**
2. Настройте лимиты регистрации (например, 10 регистраций в час с одного IP)

---

## Быстрое решение

Самое простое решение для начала:

1. **Отключите "Confirm email"** в настройках Email Provider
2. Добавьте ваш URL в **Redirect URLs**
3. Готово! Регистрация будет работать

---

## Проверка

После настройки попробуйте зарегистрироваться:

1. Откройте `/register`
2. Заполните форму
3. Нажмите "Зарегистрироваться"
4. Вы должны быть перенаправлены на `/login`
5. Войдите с новыми данными

Если все равно не работает, проверьте консоль браузера (F12) на наличие ошибок.

---

## База данных (опционально)

Если хотите использовать дополнительные таблицы (расписание, оценки и т.д.):

1. Перейдите в **SQL Editor**
2. Выполните скрипт из файла `supabase-quick-setup.sql`
3. Это создаст таблицы: users, groups, auditories, schedules, grades

Но для базовой регистрации и входа это НЕ обязательно!
